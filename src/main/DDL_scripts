create table public.students (
student_id serial not null,
fullname varchar(100) not null,
constraint student_pk primary key (student_id)
);
create table public.tests (
test_id serial not null,
test_title varchar(255) not null,
constraint tests_pk primary key (test_id)
);
create table public.questions (
question_id serial not null,
test_id int not null,
question_text text not null,
constraint question_pk primary key (question_id),
constraint test_fk foreign key (test_id) references public.tests(test_id) on delete cascade
);

create table public.answer_options (
option_id serial not null,
question_id int not null,
option_text text not null,
is_corect boolean not null,
constraint option_pk primary key (option_id),
constraint question_fk foreign key (question_id) references public.questions(question_id) on delete cascade
);
create table public.test_results (
result_id serial not null,
student_id int not null,
test_id int not null,
test_date date not null,
constraint result_pk primary key (result_id),
constraint student_fk foreign key (student_id) references public.students(student_id) on delete cascade,
constraint test_fk foreign key (test_id) references public.tests(test_id) on delete cascade
);
create table public.students_answers (
answer_id serial not null,
result_id int not null,
question_id int not null,
selected_option_id int not null,
constraint answer_pk primary key (answer_id),
constraint result_fk foreign key (result_id) references public.test_results(result_id) on delete cascade,
constraint question_fk foreign key (question_id) references public.questions(question_id) on delete cascade,
constraint selected_option_fk foreign key (selected_option_id) references public.answer_options(option_id) on delete cascade
);
alter table public.answer_options rename column is_corect to is_correct;
insert into public.students values (default, 'Frank Gold');